# What kind of database is MongoDB?
    -> NoSQL
    -> Document-based
    -> Stores data as JSON-like documents (BSON)
    -> No tables, no rows — just collections of documents.

# What is Mongoose?
    -> Mongoose is a library for Node.js.
    -> Mongoose is the bridge between Express and MongoDB.
    -> Express ❌ cannot talk to MongoDB directly.Mongoose does that job.


# What problem they solve for YOU
    > Your current issues:
        > IDs conflict
        > Data lost on restart
        > Manual search/delete/update

    MongoDB + Mongoose:
        > Auto _id
        > Query by ID easily
        > Built-in update/delete
        > No crashes from undefined

##### ONE LINE SUMMARY:

MongoDB:- MongoDB is a NoSQL document-oriented database used to store data in JSON-like format.
        {Language-agnostic , runs separately}
Mongoose:- Mongoose is an ODM library that provides schema, validation, models and cleaner queries to interact with MongoDB in Node.js.
        {Node.js only , runs inside node only}

#### [ODM : Object Data Modelling] : ODM is a layer that lets you work with database data using JavaScript objects.


++++++ IMP +++++++
# What is schema?
    -> A Schema defines the structure of documents in a MongoDB collection.
    -> In more simple words it is blueprint
Eg:>
const bookSchema = new mongoose.Schema({
    title: {
        type: String,
        required: true
    }
})

It answers:
    What fields exist?
    What type are they?
    Are they required?
    Any default values?

# Why Schema is important

MongoDB by default: allows anything , no rules

Schema adds: discipline , validation , consistency , fewer bugs



===================================
MongoDB Connection and Data Flow – Working Explanation

When a Node.js application starts, it first attempts to establish a connection with the MongoDB database using mongoose.connect(). The connection string contains a domain name such as cluster0.mongodb.net. Since computers cannot directly communicate using domain names, the system performs a DNS lookup to convert the domain into actual IP addresses of the MongoDB servers. If the mongodb+srv:// protocol is used, an SRV DNS lookup is performed to discover all cluster nodes and configuration details. Once the IP addresses are resolved, Node.js opens a TCP connection (usually on port 27017) to the MongoDB Atlas cluster. The database then authenticates the provided username and password. If authentication is successful, a secure connection is established and kept open for further operations.

After the connection is established, Mongoose uses the defined Schema to understand the structure of the data. A Schema defines the fields, data types, default values, and validation rules for documents. When a Model is created using mongoose.model(), it becomes a JavaScript interface that allows the application to interact with a specific MongoDB collection. The Model does not store data itself; instead, it acts as a bridge between the application and the database collection.

When User.create() is executed, the application sends data to the Mongoose Model. Mongoose first validates the data against the Schema rules. If the data satisfies the required structure and types, Mongoose converts the JavaScript object into BSON (Binary JSON), which is the format MongoDB uses internally. The MongoDB driver then sends an insertOne operation over the active TCP connection to the MongoDB cluster. The database receives the request, generates a unique _id for the document, stores it in the appropriate collection (e.g., users), writes it to disk, and replicates it across nodes for reliability.

After successfully storing the document, MongoDB sends a response back to Mongoose confirming the insertion. Mongoose then converts the database response into a JavaScript object and returns it to the application. Finally, the application can log or use the returned data. If the connection is closed using mongoose.connection.close(), the TCP connection to the database is terminated and the communication ends.

In summary, the complete flow is: the Node application connects to MongoDB through Mongoose, DNS resolves the database server address, a secure connection is established, data is validated and converted, the database stores the data permanently, and a confirmation response is sent back to the application.



